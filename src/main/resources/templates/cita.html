<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Formulario Cita</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <form th:action="${type} == 'N' ? @{/save-new-cita} : @{/save-edit-cita}" 
          th:object="${cita}" method="post" class="container row g-3 mt-3">
        
        <div class="col-12">
            <label class="form-label">CÃ³digo</label>
            <input type="text" class="form-control form-control-sm" th:field="*{idCita}" readonly>
        </div>

        <div class="col-12">
            <label class="form-label">Cliente</label>
            <select class="form-control form-control-sm" th:field="*{cliente.idCliente}" th:disabled="${type.equals('V')}">
                <option value="">-- Seleccione --</option>
                <option th:each="cli : ${clienteList}" th:value="${cli.idCliente}" th:text="${cli.nombreCliente}"></option>
            </select>
        </div>

        <div class="col-12">
            <label class="form-label">Servicio</label>
            <select class="form-control form-control-sm" th:field="*{servicio.idServicio}" th:disabled="${type.equals('V')}">
                <option value="">-- Seleccione --</option>
                <option th:each="srv : ${servicioList}" th:value="${srv.idServicio}" th:text="${srv.nombreServicio}"></option>
            </select>
        </div>

        <div class="col-12">
            <label class="form-label">Barbero</label>
            <select class="form-control form-control-sm" th:field="*{barbero.idBarbero}" th:disabled="${type.equals('V')}">
                <option value="">-- Seleccione --</option>
                <option th:each="bar : ${barberoList}" th:value="${bar.idBarbero}" th:text="${bar.nombreBarbero}"></option>
            </select>
        </div>

        <div class="col-12">
            <label class="form-label">Fecha</label>
            <input type="date" class="form-control form-control-sm" th:field="*{fecha}" th:readonly="${type.equals('V')}">
        </div>

        <div class="col-12">
            <label class="form-label">Hora</label>
            <input type="time" class="form-control form-control-sm" th:field="*{hora}" th:readonly="${type.equals('V')}">
        </div>

        <div class="col-12">
            <label class="form-label">Estado</label>
            <select class="form-control form-control-sm" th:field="*{estado}" th:disabled="${type.equals('V')}">
                <option th:each="estado : ${estadoList}" th:value="${estado}" th:text="${estado}"></option>
            </select>
        </div>

        <div class="col-12">
            <button type="submit" class="btn btn-success" th:if="${type != 'V'}">Guardar</button>
            <a th:href="@{/cita-list}" class="btn btn-secondary">Cancelar</a>
        </div>
    </form>
</body>
</html>